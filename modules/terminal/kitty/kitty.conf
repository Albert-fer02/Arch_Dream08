# ---------------------------------------------------------------------
# ╔═════════════════════════════════════════════════════════════
# ║                     𓂀 DreamCoder 08 𓂀                     ║
# ║                ⚡ Digital Dream Architect ⚡                 ║
# ║                                                            ║
# ║        Author: https://github.com/Albert-fer02             ║
# ╚══════════════════════════════════════════════════════════╝
# ---------------------------------------------------------------------

# =====================================================
# 🎨 TEMA Y COLORES
# =====================================================
include colors-dreamcoder.conf

# =====================================================
# 🔤 FUENTES Y TIPOGRAFÍA
# =====================================================
font_family           MesloLGS NF
font_size             13
bold_font             MesloLGS NF Bold
italic_font           MesloLGS NF Italic
bold_italic_font      MesloLGS NF Bold Italic

# Fuentes de respaldo para símbolos especiales
symbol_map U+E0A0-U+E0A3,U+E0C0-U+E0C7 PowerlineSymbols
symbol_map U+23FB-U+23FE,U+2665,U+26A1,U+2B58 Noto Color Emoji

font_features         MesloLGS NF +liga +calt
font_features         MesloLGS NF Bold +liga +calt
font_features         MesloLGS NF Italic +liga +calt
font_features         MesloLGS NF Bold Italic +liga +calt

# Desactivar ligaduras para programación en C/C++
disable_ligatures     never

# =====================================================
# 🖼️ VENTANAS Y LAYOUT
# =====================================================
window_padding_width  8
window_padding_height 6
window_border_width   0
# window_border_color   #ffffff  # Deshabilitado para Hyprland
corner_radius         0
hide_window_decorations titlebar-only
resize_debounce_time  0.1
resize_in_steps       no

remember_window_size  no
initial_window_width  1200
initial_window_height 800
window_resize_step_cells 1
window_resize_step_lines 1
placement_strategy    center

# =====================================================
# 🖱️ CURSOR Y NAVEGACIÓN
# =====================================================
cursor_shape          beam
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0
cursor_beam_thickness 2.0

# =====================================================
# 📑 PESTAÑAS Y BARRA
# =====================================================
tab_bar_edge          top
tab_bar_style         fade
tab_bar_min_tabs      1
tab_bar_align         left
tab_fade              0.25 0.5 0.75 1
tab_separator         " ┃"
tab_title_template    "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title}"
tab_bar_margin_width  0.0
tab_bar_margin_height 0.0 0.0
tab_bar_background    none
active_tab_title_template none

# =====================================================
# ⚡ RENDIMIENTO Y ACELERACIÓN - OPTIMIZADO HYPRLAND
# =====================================================
repaint_delay         3
input_delay           0
sync_to_monitor       yes
linux_display_server  wayland
wayland_titlebar_color system
wayland_enable_ime    yes

# =====================================================
# 🎯 COMPORTAMIENTO AVANZADO
# =====================================================
# Navegación entre ventanas
map ctrl+shift+left   neighboring_window left
map ctrl+shift+right  neighboring_window right
map ctrl+shift+up     neighboring_window up
map ctrl+shift+down   neighboring_window down

# Nuevas ventanas y pestañas
map ctrl+shift+t      new_tab_with_cwd
map ctrl+shift+enter  new_window_with_cwd
map ctrl+shift+w      close_window
map ctrl+shift+q      close_tab

# División de ventanas
map f5                launch --location=hsplit
map f6                launch --location=vsplit
map f7                layout_action rotate

# Zoom y tamaño de fuente
map ctrl+equal        change_font_size all +1.0
map ctrl+shift+equal  change_font_size all +1.0
map ctrl+minus        change_font_size all -1.0
map ctrl+0            change_font_size all 0

# Navegación rápida de pestañas
map ctrl+1            goto_tab 1
map ctrl+2            goto_tab 2
map ctrl+3            goto_tab 3
map ctrl+4            goto_tab 4
map ctrl+5            goto_tab 5

# Clipboard mejorado
map ctrl+shift+c      copy_to_clipboard
map ctrl+shift+v      paste_from_clipboard
map ctrl+shift+s      paste_from_selection

# Scroll
map shift+up          scroll_line_up
map shift+down        scroll_line_down
map shift+page_up     scroll_page_up
map shift+page_down   scroll_page_down
map shift+home        scroll_home
map shift+end         scroll_end

# =====================================================
# 🌊 CONFIGURACIÓN ESPECÍFICA PARA HYPRLAND
# =====================================================
# Optimizaciones para compositor Wayland
single_window_margin_width -1
draw_minimal_borders yes
window_margin_width 0
# active_border_color none
# inactive_border_color none

# Integración con Hyprland
startup_session none
allow_hyperlinks yes
detect_urls yes
url_style curly
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
copy_on_select clipboard

# Configuración de rendimiento específica para Wayland
touch_scroll_multiplier 1.0
wheel_scroll_multiplier 5.0
wheel_scroll_min_lines 1

# =====================================================
# 🚀 CONFIGURACIÓN AVANZADA DE PRODUCTIVIDAD
# =====================================================

# Kittens útiles para desarrollo
map f1                kitten hints --type url --program default
map f2                kitten hints --type path --program default
map f3                kitten hints --type line --program @
map f4                kitten hints --type word --program @
map f8                kitten unicode_input
map f9                kitten themes
map f10               kitten panel

# Sesiones y espacios de trabajo
map ctrl+shift+f1     load_config_file
map ctrl+shift+f2     debug_config
map ctrl+shift+f5     new_os_window
map ctrl+shift+f6     close_os_window
map ctrl+alt+t        set_tab_title
map ctrl+alt+w        set_window_title

# Búsqueda y navegación avanzada
map ctrl+shift+f      show_scrollback
map ctrl+shift+h      show_last_command_output
map ctrl+alt+f        kitten hints --type regex --regex '\b\w+\.py\b' --program @

# Layouts dinámicos para diferentes workflows
map ctrl+alt+1        goto_layout tall
map ctrl+alt+2        goto_layout fat
map ctrl+alt+3        goto_layout grid
map ctrl+alt+4        goto_layout horizontal
map ctrl+alt+5        goto_layout vertical
map ctrl+alt+6        goto_layout stack

# Gestión de pestañas avanzada
map ctrl+shift+.      move_tab_forward
map ctrl+shift+,      move_tab_backward
map ctrl+alt+right    next_tab
map ctrl+alt+left     previous_tab

# Quick actions para desarrollo
map ctrl+shift+u      kitten unicode_input
map ctrl+shift+p      kitten ssh
map ctrl+shift+r      load_config_file
map ctrl+shift+del    clear_terminal reset active

# Integración con herramientas externas
map ctrl+shift+g      launch --type=overlay --stdin-source=@screen_scrollback gitui
map ctrl+shift+n      launch --type=overlay nvim
map ctrl+shift+b      launch --type=overlay btop

# =====================================================
# 🎯 CONFIGURACIÓN DE LAYOUTS PERSONALIZADOS
# =====================================================
enabled_layouts       all
layout_margin_width    2
remember_window_size   yes
initial_window_width   140c
initial_window_height  40c

# =====================================================
# 📝 CONFIGURACIÓN DE TEXTO Y EDICIÓN
# =====================================================
select_by_word_characters_forward  :@-./_~?&=%+#
mark1_foreground      #98d3cb
mark1_background      #2d4f67
mark2_foreground      #f2cc81
mark2_background      #7a5518
mark3_foreground      #e06b74
mark3_background      #58252a

# =====================================================
# 🔧 AUTOMACIÓN Y COMANDOS PERSONALIZADOS
# =====================================================
# Comando para crear sesión de desarrollo
map ctrl+alt+d        launch --type=tab --tab-title="DEV" --cwd=~/dev zsh
map ctrl+alt+l        launch --type=tab --tab-title="LOGS" --cwd=/var/log zsh
map ctrl+alt+c        launch --type=tab --tab-title="CONFIG" --cwd=~/.config zsh

# Carga rápida de la sesión optimal workspace
map ctrl+alt+o        new_os_window_with_cwd
map ctrl+alt+shift+o  launch --type=os-window kitty --session ~/.config/kitty/sessions/optimal-workspace.conf


# =====================================================
# 🔧 CONFIGURACIÓN DE SHELL
# =====================================================
shell_integration     enabled
term                  xterm-kitty
allow_remote_control  yes
close_on_child_death  no
confirm_os_window_close 1

# Comportamiento del mouse para Hyprland
mouse_hide_wait       2.0
focus_follows_mouse   no
default_pointer_shape beam
pointer_shape_when_grabbed arrow
pointer_shape_when_dragging beam
click_interval        -1.0
select_by_word_characters @-./_~?&=%+#
rectangle_select_modifiers ctrl+alt
terminal_select_modifiers shift

# Configuración de audio
enable_audio_bell     no
visual_bell_duration  0.0
visual_bell_color     none

# Configuración de ventana para Hyprland
window_alert_on_bell  no
bell_on_tab           no
window_logo_path      none
window_logo_position  bottom-right
window_logo_alpha     0.0

# Configuración específica de Wayland
update_check_interval 0
clipboard_control     write-clipboard write-primary read-clipboard-ask read-primary-ask
strip_trailing_spaces smart

# =====================================================
# 🎨 PERSONALIZACIÓN VISUAL
# =====================================================
# Opacidad del fondo optimizada para Hyprland
background_opacity    0.50
background_blur       64
dynamic_background_opacity yes

# Fondo dinámico: deshabilitado para mejor rendimiento en Wayland
# background_image      ~/.config/kitty/wallpaper
# background_image_layout cscaled
# background_tint       0.00

# Historial de scrollback
scrollback_lines      5000
scrollback_pager      less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 0
